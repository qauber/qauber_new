jQuery(function ($) {
    function n() {
        g.hasClass("mQuery900") ? $("#primeList").outerHeight($(".prime-player").height()) : $("#primeList").css("height", "auto")
    }

    function o() {
        var a = $("#primeBox"),
            b = a.parent().width();
        b >= 900 ? (a.removeClass(), a.addClass("mQuery900"), console.log("900mQuery")) : b >= 700 ? (a.removeClass(), a.addClass("mQuery900"), console.log("700mQuery")) : b <= 550 && (a.removeClass(), a.addClass("mQuery550"), console.log("550mQuery"))
    }

    var a = "Select a video from gallery.",
        e = $(".primeThumb"),
        f = '<div class="prime-nowplaying"><h3 class="prime-title primeTitleFix">' + a + "</h3></div>";
    $("#primeList").wrapAll('<div id="primeBox"></div>'), $("#primeBox").prepend('<div class="prime-player">\t\t<div id="primeControls">\t\t\t<div class="primeFloatLeft">\t\t\t\t<span id="prime-zoom" class="primeUIbtn" aria-hidden="true" title="Resize video player"></span>\t\t\t\t<span class="primefire-desc primeUIbtn iconazble ic-question-equal" title="Video description"></span>\t\t\t</div>\t\t\t<div class="primeFloatRight">\t\t\t\t<span id="primecloseBtn" class="primeUIbtn iconazble ic-times" aria-hidden="true" title="Close video player"></span>\t\t\t</div>\t\t\t<div class="primeClearfix"></div>\t\t</div>\t\t<div class="prime-videowrapper"></div>\t\t<div class="prime-infobox">' + f + '</div>\t\t<div class="primeDescr-wrapper"><div class="prime-desc"></div></div>\t</div>');
    var g = $("#primeBox"),
        h = $(".prime-videowrapper"),
        i = $(".prime-nowplaying"),
        j = $(".primefire-desc"),
        k = $(".prime-desc"),
        l = $(".primeDescr-wrapper"),
        m = '<div class="prime-overlay"></div>';
    $("#primeBox").append('<div class="primeClearfix"></div>'), $(window).resize(n), e.on("click", function () {
        var a = $(".primeThumb img").attr("data-anchor"),
            b = $("#" + a),
            c = $(".html,body"),
            d = b.offset().top + -40;
        return console.log(d), c.animate({
            scrollTop: d
        }), e.removeClass("primeCurrentVideo"), $(this).addClass("primeCurrentVideo"), 0 === $(this).find(".primepre-desc").length ? (j.hide(), l.hide()) : (j.show(), l.show()), !1
    }), g.on("click", "#primecloseBtn", function () {
        return $(".prime-mainvideo").remove(), j.hide(), l.hide(), e.removeClass("primeCurrentVideo"), i.html(f), n(), !1
    }), j.hover(function () {
        k.slideDown(200)
    }, function () {
        k.slideUp(200)
    }), g.on("click", "#prime-zoom", function () {
        return g.toggleClass("mQuery900"), n(), !1
    }),

        // Youtube Function
        $(".prime-youtube").each(function () {
            var a = $(this),
                b = a.attr("data-videoID"),
                c = a.find(".primepre-title").text(),
                d = a.find(".primepre-desc").text(),
                e = '<div class="prime-mainvideo"><iframe width="560" height="315" src="https://www.youtube.com/embed/' + b + '?showinfo=1&autoplay=1" frameborder="0" allowfullscreen></iframe></div>';
            if (1 === a.find("img").length) {
                var f = a.find("img").attr("src");
                $ytThumb = '<div class="primeThumb-wrapper"><img src="' + f + '" data-anchor="primeBox"/>' + m + "</div>"
            } else $ytThumb = '<div class="primeThumb-wrapper"><img src="https://img.youtube.com/vi/' + b + '/mqdefault.jpg" data-anchor="primeBox"/>' + m + "</div>";
            a.prepend($ytThumb), a.on("click", function () {
                return h.html(e).hide().slideDown("fast"), i.html('<h3 class="prime-title">' + c + "</div>"), k.html(d), setTimeout(n, 200), !1
            })
        }),

        // Videmo Function
        $(".prime-vimeo").each(function () {
            var a = $(this),
                b = a.attr("data-videoID"),
                c = a.find(".primepre-title").text(),
                d = a.find(".primepre-desc").text(),
                e = '<div class="prime-mainvideo"> <iframe src="https://player.vimeo.com/video/' + b + '?title=1&byline=1&portrait=1&badge=1&autoplay=1" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div>';
            if (1 === a.find("img").length) {
                var f = a.find("img").attr("src");
                a.prepend('<div class="primeThumb-wrapper"><img src="' + f + '" width="268" data-anchor="primeBox"/>' + m + "</div>")
            } else $.getJSON("https://vimeo.com/api/v2/video/" + b + ".json", function (b) {
                var c = b[0].thumbnail_large;
                a.prepend('<div class="primeThumb-wrapper"><img src="' + c + '" width="268" data-anchor="primeBox"/>' + m + "</div>")
            });
            a.on("click", function () {
                return h.html(e).hide().slideDown("fast"), i.html('<h3 class="prime-title">' + c + "</div>"), k.html(d), setTimeout(n, 200), !1
            })
        }),

        $(".prime-dailymotion").each(function () {
            var a = $(this),
                b = a.attr("data-videoID"),
                c = a.find(".primepre-title").text(),
                d = a.find(".primepre-desc").text(),
                e = '<div class="prime-mainvideo"> <iframe frameborder="0" width="640" height="360" src="//www.dailymotion.com/embed/video/' + b + '?autoplay=1" allowfullscreen></iframe> </div>';
            if (1 === a.find("img").length) {
                var f = a.find("img").attr("src");
                a.prepend('<div class="primeThumb-wrapper"><img src="' + f + '" width="268" data-anchor="primeBox"/>' + m + "</div>")
            } else $.getJSON("https://api.dailymotion.com/video/" + b + "?fields=id,thumbnail_url", function (b) {
                $dailyMThumb = b.thumbnail_url, a.prepend('<div class="primeThumb-wrapper"><img src="' + $dailyMThumb + '" width="268" data-anchor="primeBox"/>' + m + "</div>")
            });
            a.on("click", function () {
                return h.html(e).hide().slideDown("fast"), i.html('<h3 class="prime-title">' + c + "</div>"), k.html(d), setTimeout(n, 200), !1
            })
        }),

        $(".prime-htmlvideo").each(function () {
            var a = $(this),
                b = a.attr("data-videoURL"),
                c = a.find(".primepre-title").text(),
                d = a.find(".primepre-desc").text(),
                e = '<div class="prime-mainvideo">\t\t<video class="prime-localVideo" width="320" height="240" controls autoplay>\t\t  <source src="' + b + '" type="video/mp4">\t\t  Your browser does not support the HTML5 video tag.\t\t</video>\t\t</div>';
            if (1 === a.find("img").length) {
                var f = a.find("img").attr("src");
                a.prepend('<div class="primeThumb-wrapper"><img src="' + f + '" width="268" data-anchor="primeBox"/>' + m + "</div>")
            } else a.prepend('<div class="primeThumb-wrapper"><img src="./images/no-thumb.jpg" width="268" data-anchor="primeBox"/>' + m + "</div>");
            a.on("click", function () {
                return h.html(e).hide().slideDown("fast"), i.html('<h3 class="prime-title">' + c + "</div>"), k.html(d), setTimeout(n, 200), !1
            })
        }), o(), $(window).resize(o), $(".primepre-title").each(function () {
        var a = $(this);
        a && a.text().length > 35 && a.text(a.text().substr(0, 35) + " ...")
    })
});